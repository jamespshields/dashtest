<!DOCTYPE HTML>

<html>
<head>
<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
<link rel="stylesheet" type="text/css" href="./assets/ggvis/ggvis.css"/>

<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<script src="./assets/opencpu.js/opencpu-0.5.js"></script>
<script src="./assets/ggvis/vega.js"></script>
<script src="./assets/ggvis/lodash.min.js"></script>
<script>var lodash = _.noConflict();</script>
<script src="./assets/ggvis/ggvis.js"></script>


</head>
<body>

<h1>PiLR Dashboard Demo</h1>
<p>
This page is generated by a call to PiLR's OpenCPU server. We call the
pilr_dashboard_panel function with arguments:

</p>

  <div id="ggvis_univariate-container" class="ggvis-output-container">
    <div id="ggvis_univariate" class="ggvis-output"></div>
    <div class="plot-gear-icon">
      <nav class="ggvis-control">
        <a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
        <ul class="ggvis-dropdown">
          <li>
            Renderer: 
          <a id="ggvis_univariate_renderer_svg" class="ggvis-renderer-button" 
             onclick="return false;" data-plot-id="ggvis_univariate" 
             data-renderer="svg">SVG</a>
            | 
          <a id="ggvis_univariate_renderer_canvas" class="ggvis-renderer-button" 
             onclick="return false;" data-plot-id="ggvis_univariate" 
             data-renderer="canvas">Canvas</a>
          </li>
          <li>
            <a id="ggvis_univariate_download" class="ggvis-download" 
               data-plot-id="ggvis_univariate">Download</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>


<script>
ocpu.seturl("http://107.170.188.61/ocpu/github/erikriverson/pilrdash/R");

<!-- function(FUN, package, package_location, pilr_server, access_code, -->
<!--                                  github_info, data, project, return_type) -->

ocpu.rpc("pilr_dashboard_panel", {"FUN" : "vistest",
                                  "package" : "dashtest",
                                  "package_location" : "github",
                                  "pilr_server" : "qa.pilrhealth.com", 
                                  "access_code" : "e72a0546-5f38-4e12-a455-93bfef39d094",
                                  "data" : {"data_set" : "pilrhealth:ezsensors:location",
                                            "schema" : "1"},
                                  "github_info" : {"username" : "tdschenk", "repository" : "dashtest", "branch" : "master"},
                                  "project" : "a-eiverson-project", 
                                  "return_type" : "vega"
                                 }, 
function(output) {
  console.log(JSON.parse(output));
  ggvis.getPlot("ggvis_univariate").parseSpec(JSON.parse(output));
});



</script>


</body>

</html>
